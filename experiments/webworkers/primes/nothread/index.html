<!DOCTYPE HTML>
<html>
 <head>
  <title>Web Worker tests: No-thread computation</title>
  <script type="text/javascript">
  	var samples = [];
		
    function test() {
      var startTime, endTime, totalTime;
        
      startTime = new Date().getTime();
      
      for (var n = 1; n <= 100000; n += 1) {
        var found = false;
        for (var i = 2; i <= Math.sqrt(n); i += 1) {
          if (n % i == 0) {
            var found = true;
            break;
          }
        }
        if (!found) {
          // found a prime!   
          //console.log(n);
          // do nothing
          ;
        }
      }
      
      endTime = new Date().getTime();
      totalTime = endTime - startTime;
        
      console.log('Total time: %fms', totalTime);
			samples.push(totalTime);
    }
		
		function average() {
			var avg = 0;
			
			for (var i = 0; i < samples.length; i++) {
				avg += samples[i];
			}
			avg /= samples.length;
			samples = [];
			
			console.log('Average time: %fms', avg);
		}
  </script>
 </head>
 <body>
  <h1>No-thread computation</h1>
  <p>Watch the results on the console.</p>
	<input type="button" onclick="test();" value="Test" />
	<input type="button" onclick="average();" value="Average" />
 </body>
</html>